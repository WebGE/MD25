<!DOCTYPE html>
<html>

  <head>
    <meta charset='utf-8' />
    <meta http-equiv="X-UA-Compatible" content="chrome=1" />
    <meta name="description" content="Contrôler deux motoréducteurs équipés d'encodeurs avec une carte MD25 : Programme de test en C# et description de la classe MD2x" />

    <link rel="stylesheet" type="text/css" media="screen" href="stylesheets/stylesheet.css">

    <title>Md25</title>
  </head>

  <body>

    <!-- HEADER -->
    <div id="header_wrap" class="outer">
        <header class="inner">
          <a id="forkme_banner" href="https://github.com/WebGE/MD25">View on GitHub</a>

          <h1 id="project_title">Contrôler deux motoréducteurs à CC équipés d'encodeurs avec une carte MD25</h1>
          <h2 id="project_tagline">Programme de test en C# et description de la classe MotorControlMD2x</h2>
            <section id="downloads">
              <a class="zip_download_link" href="https://github.com/WebGE/MD25/zipball/master">Download this project as a .zip file</a>
              <a class="tar_download_link" href="https://github.com/WebGE/MD25/tarball/master">Download this project as a tar.gz file</a>
            </section>
        </header>
    </div>

    <!-- MAIN CONTENT -->
     <div id="main_content_wrap" class="outer">
      <section id="main_content" class="inner">
        <h3>
<a name="module-de-commande-de-moteurs-md25" class="anchor" href="#module-de-commande-de-moteurs-md25"><span class="octicon octicon-link"></span></a>Module de commande de moteurs "MD25"</h3>

<hr><p>Destinée à être commandée par un microcontrôleur au moyen d'une liaison série (niveau logique 0 - 5 V) ou via un <strong>bus I2C™</strong>, cette platine électronique intègre un <strong>double pont en "H"</strong> permettant le pilotage indépendant de <strong>2 moteurs à courant continu avec encodeur</strong> (consommation: 2,5 A max. par moteur).<br>
Des ordres simples permettent de définir le sens de rotation ainsi que la vitesse des moteurs, de lire les informations en provenance des encodeurs, de lire les valeurs de la tension et du courant consommé par les moteurs, de connaître leur vitesse de rotation, de définir les accélérations, etc...</p>
<p><img src="http://www.lextronic.fr/imagelib/48/md25connection.jpg"></p>
<ul>
<li>Alimentation nécessaire: 12 Vcc (un régulateur 5 Vcc intégré délivre 300 mA pour l’électronique de commande externe).</li>
<li>Plusieurs platines peuvent être pilotées en même temps via un bus I2C™</li>
<li>Dimensions: 70 x 60 x 25 mm.</li>
<li>Documentation : <a href="http://www.pishrobot.com/files/products/datasheets/md25.pdf" target="_blank">MD25 - Dual 12Volt 2.8Amp H Bridge Motor Drive</a></li>
<li>Distributeur : <a href="http://www.lextronic.fr/P3104-module-de-commande-de-moteur-md25.html">LEXTRONIC</a>
</li>
</ul>

<p></p>
<h3><hr>
<a name="carte-netduino-de-secret-labs" class="anchor" href="#carte-netduino-de-secret-labs" target="_blank"><span class="octicon octicon-link"></span></a>Carte NetDuino plus 2 </h3><h5>Secret Labs</h5>
<hr>
<ul>
<li>
<strong>Microcontrôleur</strong> : STM32F405RG 32 bits à architecture Cortex-M4 cadencé à 168 MHz.</li>
<li>
<strong>RAM</strong> : 100 KB.</li>
<li>
<strong>Flash</strong> : 384 KB.</li>
<li>
<strong>Port Ethernet</strong> 10Mbps.</li>
<li>
<strong>E/S numériques</strong> : 14</li>
<li>
<strong>Entrées analogiques</strong> : 6</li>
<li>
<strong>IDE</strong> : Microsoft Visual Studio (professionnel ou express)</li>
<li>
<strong>Framework</strong> : .NETMF</li>
<li>
<strong>Langage de programmation</strong> : C#</li>
</ul><p><img src="http://cdn.netduino.com/images/hardware/netduino2/photo_overhead.gif" alt="Netduino+ 2"></p>

<ul>
<li>
<strong>Site</strong>: <a href="http://netduino.com/netduinoplus2/specs.htm" target="_blank">Netduino</a>
</li>
<li>
<strong>Distributeur</strong> : <a href="http://www.lextronic.fr/recherche.html?mots_cles=PRODUIT-ID29733" target="_blank">Lextronic</a>
</li>
</ul><h3><hr>
<a name="classe-MotorControlMD2x" class="anchor" href="#classe-MotorControlMD2x"><span class="octicon octicon-link"></span></a>Classe MotorControlMD2x</h3>
<hr>
<p><strong>Utilisation</strong></p>
<hr>
<ol>
	<li><strong>Créer</strong> un objet en utilisant le constructeur MotorControlMD2x approprié.</li>
	<li><strong>Régler</strong> la fréquence de rotation des moteurs avec la méthode <strong>SetSpeedTurn.</strong></li>
	<li><strong>etc...</strong></li>
</ol>

<hr><h5>
<a name="classe-motorcontrold2x" class="anchor" href="#classe-motorcontrold2x"><span class="octicon octicon-link"></span></a>Classe MotorControlMD2x</h5>

<hr><p><strong>Constructeur</strong></p>

<table>
<tr>
<td></td>
<td><strong>Syntaxe</strong></td>
<td><strong>Description</strong></td>
</tr>
<tr>
<td><img src="http://www.jetbrains.com/resharper/webhelp50/images/general_constructor_VS.png"></td>
<td><strong>MotorControlMD2x()</strong></td>
<td>Initialise un objet "carte MD23/MD25". <br> L'addresse sur le bus I2C = 0x58. La fréquence de l'horloge est fixée à F = 100kHz </td>
</tr>
<tr>
<td><img src="http://www.jetbrains.com/resharper/webhelp50/images/general_constructor_VS.png"></td>
<td>
<strong>MotorControlMD2x</strong>(<strong>byte</strong> <em>I2C_Add_7bits</em>)</td>
<td>Initialise un objet "carte MD23/MD25". I2C_Add_7bits est à définir dans l'intervalle [0x58,0x5F]. La fréquence de l'horloge est fixée à F = 100kHz.</td>
</tr>
<tr>
<td><img src="http://www.jetbrains.com/resharper/webhelp50/images/general_constructor_VS.png"></td>
<td>
<strong>MotorControlMD2x</strong>(<strong>byte</strong> <em>I2C_Add_7bits</em>, <strong>UInt16</strong> <em>Frequency</em>)</td>
<td>Initialise un objet "carte MD23/MD25" I2C_Add_7bits est à définir dans l'intervalle [0x58,0x5F]. Frequency est à définir dans l'intervalle [100kHz,400kHz] </td>
</tr>
</table><p><strong>Enumération</strong></p>

<table>
<tr>
<td></td>
<td><strong>Syntaxe</strong></td>
<td><strong>Description</strong></td>
</tr>
<tr>
	<td><img src="http://www.jetbrains.com/resharper/webhelp50/images/general_enum_VS.png"></td>
	<td><strong>ModeRegister</strong></td>
	<td>
	Mode 0, Mode 1 : Commande indépendante des deux moteurs.<br />
	Mode 2, Mode 3 : Speed 1 définit la vitesse médiane des deux moteurs. Speed 2 définit le diférentiel de vitesse à appliquer en + ou en - à chaque moteur.<br/>
	Mode 0: Mode par défaut. 0 (Full Reverse) 128 (Stop) 255 (Full Forward) <br>
	Mode 1: -128 (Full Reverse) 0 (Stop) 127 (Full Forward).<br>
	Mode 2: 0 (Full Reverse) 128 (Stop) 255 (Full Forward)<br>
	Mode 3: -128 (Full Reverse) 0 (Stop) 127 (Full Forward)<br>
	</td>

</tr>
</table><p><strong>Propriétés</strong></p>

<table>
<tr>
<td></td>
<td><strong>Syntaxe</strong></td>
<td><strong>Description</strong></td>
</tr>
<tr>
<td><img src="http://www.jetbrains.com/resharper/webhelp50/images/general_property_VS.png"></td>
<td><strong>Speed1</strong></td>
<td>Mode 0 (seul implémenté): Retourne la consigne de vitesse du moteur 1. Octet non signé.</td>
</tr>
<tr>
<td><img src="http://www.jetbrains.com/resharper/webhelp50/images/general_property_VS.png"></td>
<td><strong>Speed2Turn</strong></td>
<td>Mode 0 (seul implémenté): Retourne la consigne de vitesse du moteur 2. Octet non signé.</td>
</tr>
<tr>
<td><img src="http://www.jetbrains.com/resharper/webhelp50/images/general_property_VS.png"></td>
<td><strong>Encoder1</strong></td>
<td>Retourne la valeur de l'encodeur 1. Mot de 32bits signé.</td>
</tr>
<tr>
<td><img src="http://www.jetbrains.com/resharper/webhelp50/images/general_property_VS.png"></td>
<td><strong>Encoder2</strong></td>
<td>Retourne la valeur de l'encodeur 2. Mot de 32bits signé.</td>
</tr>
<tr>
<td><img src="http://www.jetbrains.com/resharper/webhelp50/images/general_property_VS.png"></td>
<td><strong>Battery</strong></td>
<td>Retourne la tension d'alimentation de la carte. Octet non signé.</td>
</tr>
<tr>
<td><img src="http://www.jetbrains.com/resharper/webhelp50/images/general_property_VS.png"></td>
<td><strong>Current1</strong></td>
<td>Retourne l'intensité du moteur 1 en (A). Octet non signé.</td>
</tr>
<tr>
<td><img src="http://www.jetbrains.com/resharper/webhelp50/images/general_property_VS.png"></td>
<td><strong>Current2</strong></td>
<td>Retourne l'intensité du moteur 2 en (A). Octet non signé.</td>
</tr>
<tr>
<td><img src="http://www.jetbrains.com/resharper/webhelp50/images/general_property_VS.png"></td>
<td><strong>SoftRev</strong></td>
<td>Retourne le numéro de version du logiciel de la carte MD25. Octet non signé.</td>
</tr>
<tr>
<td><img src="http://www.jetbrains.com/resharper/webhelp50/images/general_property_VS.png"></td>
<td><strong>AccelerationRate</strong></td>
<td>Retourne l'accélération programmée lors d'un changement de vitesse. Octet non signé.</td>
</tr>
<tr>
<td><img src="http://www.jetbrains.com/resharper/webhelp50/images/general_property_VS.png"></td>
<td><strong>Mode</strong></td>
<td>Retourne le mode de fonctionnement de la carte 0,1,2 ou 3. Octet non signé.</td>
</tr>
<tr>
<td><img src="http://www.jetbrains.com/resharper/webhelp50/images/general_property_VS.png"></td>
<td><strong>Command</strong></td>
<td>Retourne le contenu du registre de commande. Octet non signé.</td>
</tr>
</table><p><strong>Méthodes publiques</strong></p>

<table>
<tr>
<td></td>
<td><strong>Syntaxe</strong></td>
<td><strong>Description</strong></td>
</tr>
<tr>
<td><img src="http://www.jetbrains.com/resharper/webhelp50/images/general_method_VS.png"></td>
<td><strong>void GetAllRegister()</strong></td>
<td>Lecture des 16 registres de la carte MD25.</td>
</tr>
<tr>
<td><img src="http://www.jetbrains.com/resharper/webhelp50/images/general_method_VS.png"></td>
<td><strong>void RazEncoders()</strong></td>
<td>Remise à zéro des deux encodeurs.</td>
</tr>
<tr>
<td><img src="http://www.jetbrains.com/resharper/webhelp50/images/general_method_VS.png"></td>
<td>
<strong>void SetMode</strong>(<strong>ModeRegister</strong> <em>valmode</em>)</td>
<td>Définit le mode de fonctionnnement de la carte 0, 1,2 ou 3.</td>
</tr>
<tr>
<td><img src="http://www.jetbrains.com/resharper/webhelp50/images/general_method_VS.png"></td>
<td>
<strong>void SetSpeedTurn</strong>(<strong>byte</strong> <em>ValSpeed1</em>, <strong>byte</strong> <em>ValSpeed2Turn</em>)</td>
<td>Règle la vitesse des moteurs.</td>
</tr>
<tr>
<td><img src="http://www.jetbrains.com/resharper/webhelp50/images/general_method_VS.png"></td>
<td><strong>void StopMotor()</strong></td>
<td>Arrêt des deux moteurs.</td>
</tr>
</table>
      </section>
    </div>

    <!-- FOOTER  -->
    <div id="footer_wrap" class="outer">
      <footer class="inner">
        <p class="copyright">Contrôler deux motoréducteurs équipés d'encodeurs avec une carte MD25 maintained by <a href="https://github.com/WebGE">WebGE</a></p>
        <p>Published with <a href="http://pages.github.com">GitHub Pages</a></p>
      </footer>
    </div>

    

  </body>
</html>
